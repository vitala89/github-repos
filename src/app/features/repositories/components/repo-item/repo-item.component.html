<li
  id="app-content"
  class="p-4 m-4 rounded-2xl bg-white dark:bg-neutral-800 shadow-sm shadow-gray-200 dark:shadow-black/30 transition-colors duration-150"
>
  <div class="flex items-start gap-4">
    <img
      [ngSrc]="repo().owner.avatar_url"
      [alt]="repo().owner.login"
      [width]="64"
      [height]="64"
      class="w-16 h-16 rounded-full object-cover shadow-sm flex-shrink-0"
    />
    <div class="flex-1">
      <button
        type="button"
        [attr.popovertarget]="'repo-modal-' + repo().id"
        class="font-semibold text-lg text-blue-600 dark:text-blue-400 bg-transparent p-0 border-0 cursor-pointer underline underline-offset-2 transition-colors"
      >
        {{ repo().name }}
      </button>
      @if (rating()) {
        <span class="ml-2 align-middle">
          <app-star-rating
            [value]="rating()"
            [readonly]="true"
          ></app-star-rating>
        </span>
      }
      <p class="text-sm text-gray-600 dark:text-gray-300 mb-2 mt-1">
        {{ repo().description }}
      </p>
      <div class="flex flex-wrap items-center gap-2 text-sm mt-2">
        <span
          class="rounded-full px-3 py-1 font-medium bg-gray-50 dark:bg-neutral-700 text-gray-800 dark:text-gray-200 shadow-sm inline-flex items-center gap-1 align-middle"
        >
          <lucide-icon
            title="Number of stars"
            [name]="starIcon"
            class="inline align-middle"
          ></lucide-icon>
          <span class="align-middle">{{ repo().stargazers_count }}</span>
        </span>
        <span
          class="rounded-full px-3 py-1 font-medium bg-gray-50 dark:bg-neutral-700 text-gray-800 dark:text-gray-200 shadow-sm inline-flex items-center gap-1"
        >
          <lucide-icon
            title="Issues"
            [name]="bugIcon"
            class="inline align-middle"
          ></lucide-icon>
          {{ repo().open_issues_count }}
        </span>
        <span
          class="ml-2 text-gray-500 dark:text-gray-400 inline-flex items-center gap-1"
        >
          <lucide-icon
            title="Owner"
            [name]="userIcon"
            class="inline align-middle"
          ></lucide-icon>
          {{ repo().owner.login }}
        </span>
      </div>
    </div>
  </div>
</li>

<app-repo-modal [repo]="repo()" [modalId]="'repo-modal-' + repo().id" />
